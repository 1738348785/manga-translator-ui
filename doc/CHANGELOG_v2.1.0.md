# v2.1.0 更新日志

发布日期：2026-02-15

## 🐛 修复

- 修复编辑器导出时字体大小不是用户设定值的问题（`skip_font_scaling` 模式下完全跳过排版缩放，用户设多少字号就渲染多少）
- 修复编辑器导出时文本方向判断与渲染不一致的问题（`calc_box_from_font` 现在考虑 `direction` 强制覆盖，与 `render()` 的方向判断逻辑保持一致）
- 修复横排文本在有 BR 标记时仍被框宽度强制断行的问题（横排渲染统一使用无限宽度，换行完全由 BR/换行符控制）
- 加强气泡边框保护：提升 bubble mask 向内腐蚀力度（半径由短边 `1%` 提升到 `1.5%`，范围由 `3-30px` 调整为 `4-36px`，并保留“腐蚀后为空时回退原 mask”保护）
- 修复 `smart_scaling` 在 BR 分支下可能触发的 `cannot access local variable 'n'` 异常（统一初始化并在 BR 路径显式设置行/列数，避免渲染回退与性能劣化）
